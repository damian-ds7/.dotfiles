#!/bin/env bash

swayidle -w \
  timeout 180 'niri msg action power-off-monitors' \
  timeout 240 'swaylock -f' \
  timeout 300 'systemctl suspend' \
  resume 'niri msg action power-on-monitors' \
#   before-sleep 'swaylock -f'

# swayidle -w \
#   timeout 3 'echo Powering monitors off; niri msg action power-off-monitors' \
#   timeout 6 'echo Locking; swaylock -f' \
#   timeout 10 'echo Suspending; systemctl suspend' \
#   resume 'echo Powering monitors on; niri msg action power-on-monitors'
  # before-sleep 'echo Locking before sleep; swaylock -f'
