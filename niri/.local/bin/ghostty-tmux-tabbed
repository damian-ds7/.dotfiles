#!/usr/bin/env bash

if [ $# -eq 0 ]; then
    echo "Usage: $0 <workspace_name>"
    exit 1
fi

workspace="$1"

if [ "$workspace" = "\${workspaceFolderBasename}" ]; then
    workspace="vscode"
fi

commands="niri msg action consume-or-expel-window-left; niri msg action toggle-column-tabbed-display; /home/damian/.local/opt/vscode-tmux-session.sh '$workspace'"

ghostty --class=com.code."$workspace" -e sh -c "$commands"
